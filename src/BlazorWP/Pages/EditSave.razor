@* File: src/BlazorWP/Pages/EditSave.razor *@
<div class="d-flex align-items-center gap-2 mb-3">
    <button class="btn btn-success" @onclick="OnSave" disabled="@(ReadOnly || !isDirty || Saving)">
        @(Saving ? "Saving…" : "Save")
    </button>
    <button class="btn btn-outline-secondary" @onclick="OnFork" disabled="@(!CanFork || Saving || Forking)">
        @(Forking ? "Forking…" : "Fork")
    </button>

    @if (!string.IsNullOrEmpty(Status))
    {
        <span class="text-muted">@Status</span>
    }
</div>

@code {
    [Parameter] public bool ReadOnly { get; set; }
    [Parameter] public bool isDirty { get; set; }
    [Parameter] public bool Saving { get; set; }
    [Parameter] public string? Status { get; set; }
    [Parameter] public EventCallback OnSave { get; set; }

    [Parameter] public bool CanFork { get; set; }
    [Parameter] public bool Forking { get; set; }
    [Parameter] public EventCallback OnFork { get; set; }

    protected override void OnParametersSet()
    {
        // optional diagnostics
        // Console.WriteLine($"[EditSave] isDirty={isDirty} Saving={Saving} Forking={Forking}");
    }
}
