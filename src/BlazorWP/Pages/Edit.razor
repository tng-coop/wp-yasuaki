@page "/edit"
@page "/edit/{Id:int}"
@inject BlazorWP.Data.AppFlags Flags
@using TinyMCE.Blazor
@inject IJSRuntime JS

<h2 class="mb-2">Editor</h2>

<div class="d-flex align-items-center gap-2 mb-3">
    <button class="btn btn-primary" @onclick="NewPageAsync">New Page</button>
    <NewPage Id="Id" />
</div>

<div class="mb-3">
    <label class="form-label">Title</label>
    <input class="form-control" @bind="Title" />
</div>

<div class="mb-3">
    <label class="form-label">Content</label>
    <Editor Id="mainEditor" ScriptSrc="libman/tinymce/tinymce.min.js" LicenseKey="gpl" JsConfSrc="myTinyMceConfig"
            @bind-Value="Content"  />
</div>

<div class="d-flex align-items-center gap-2 mb-3">
    <button class="btn btn-success" @onclick="SaveAsync" disabled="@_saving">
        @(_saving ? "Savingâ€¦" : "Save")
    </button>
    @if (!string.IsNullOrEmpty(_status))
    {
        <span class="text-muted">@_status</span>
    }
</div>
