@page "/edit"
@page "/edit/{Id:int}"

<h2 class="mb-2">Editor</h2>

<div class="d-flex align-items-center gap-2 mb-3">
    <button class="btn btn-primary" @onclick="NewPageAsync">New Page</button>
    @if (Id is not null)
    {
        <span class="badge bg-secondary">Editing ID: @Id</span>
    }
    else
    {
        <span class="text-muted">New draft (no ID yet). Fill in and click Save.</span>
    }
</div>

<div class="mb-3">
    <label class="form-label">Title</label>
    <input class="form-control" @bind="Title" />
</div>

<div class="mb-3">
    <label class="form-label">Content</label>
    <textarea class="form-control" rows="12" @bind="Content"></textarea>
</div>

<div class="d-flex align-items-center gap-2 mb-3">
    <button class="btn btn-success" @onclick="SaveAsync" disabled="@_saving">
        @(_saving ? "Savingâ€¦" : "Save")
    </button>
    @if (!string.IsNullOrEmpty(_status))
    {
        <span class="text-muted">@_status</span>
    }
</div>
